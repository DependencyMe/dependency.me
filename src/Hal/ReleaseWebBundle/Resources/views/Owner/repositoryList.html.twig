{% extends "HalReleaseWebBundle::base.html.twig" %}

{% block body %}




    <div>
        <p>Hello {{ owner.name }}.</p>

        <p>
            We found <strong>{{ repositories | length }}</strong> public repositories on the <a href="{{ owner.url }}"
                                                                                                target="_blank">{{ owner.login }}</a>
            Github account.
        </p>

        {% if repositories is empty %}
            <p>
                Do you want to <a href="{{ path('owner.synchronize') }}">synchronize your account now ?</a>
            </p>
        {% else %}

            <p>
                <a class="btn btn-small" href="{{ path('owner.synchronize') }}">Synchronize now </a>
            </p>

            <table class="table table-stripped">
                <thead>
                <tr>
                    <th>Repository</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for repository in repositories %}
                    <tr>
                        <td><a href="{{ repository.url }}">{{ repository.name }}</a></td>
                        <td>
                            {% if repository.enabled %}
                                <a class="btn btn-small btn-success"
                                   href="{{ path('owner.repository.disable', {name: repository.name}) }}">enabled</a>
                            {% else %}
                                <a class="btn btn-small"
                                   href="{{ path('owner.repository.enable', {name: repository.name}) }}">disabled</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endif %}

    </div>
{% endblock %}